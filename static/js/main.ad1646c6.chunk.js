(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{154:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(11),o=a.n(i),r=a(29),c=(a(84),a(17)),s=a(65),d=a(66),u=a(74),m=a(67),v=a(75),p=a(10),h=(a(86),function(e){return{type:"updateMovieList",payload:e}}),b=function(e){return{type:"updateCurrentMovie",payload:e}},f=function(e){return{type:"updateMovie",payload:e}},E=function(e){return{type:"removeMovie",payload:e}},M=function(e){return{type:"addMovie",payload:e}},y=a(92),w=a(156),S=a(158),g=a(157),N=a(26),D=a.n(N),k=a(16),j=a(30),x=a(31);a(90);k.b.add(x.c),k.b.add(x.a),k.b.add(x.b);var O=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).closeEdit=function(){e.setState({showEditModal:!1})},e.openEdit=function(){e.setState({showEditModal:!0})},e.closeDelete=function(){e.setState({showDeleteModal:!1})},e.openDelete=function(){e.setState({showDeleteModal:!0})},e.closeAdd=function(){e.setState({showAddModal:!1})},e.openAdd=function(){e.setState({showAddModal:!0})},e.state={showEditModal:!1,showDeleteModal:!1,showAddModal:!1,newMovie:{id:D()()},id:null,currentMovie:{}},e}return Object(v.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://www.omdbapi.com/?s=batman&apikey=ebfb52b7").then(function(e){return e.json()}).then(function(t){var a=t.Search,n=[];a.forEach(function(e){var t;n.push((t="https://www.omdbapi.com/?i=".concat(e.imdbID,"&apikey=ebfb52b7"),fetch(t).then(function(e){return e.json()})))}),Promise.all(n).then(function(t){return e.props.updateMovieList(t)}).catch(function(e){return console.log(e)})})}},{key:"editMovie",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.currentMovie.id,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.currentMovie.Title,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.state.currentMovie.Year,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.state.currentMovie.Runtime,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.state.currentMovie.Director,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.state.currentMovie.Genre,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this.state.currentMovie.Poster;this.props.updateMovie({id:e,Title:t,Year:a,Runtime:n,Director:l,Genre:i,Poster:o})}},{key:"addNewMovie",value:function(e){this.props.addMovie(e),this.closeAdd()}},{key:"renderList",value:function(){var e=this;return this.props.movies.map(function(t,a){return l.a.createElement(y.a,{style:{height:"60px"},key:"user"+a},l.a.createElement("span",{className:"liFields"},l.a.createElement("img",{width:"20px",src:t.Poster})),l.a.createElement("span",{className:"liFields"},t.Title),l.a.createElement("span",{className:"liFields"}," ",t.Year),l.a.createElement("span",{className:"liFields"}," ",t.Runtime),l.a.createElement("span",{className:"liFields"}," ",t.Director),l.a.createElement("span",{className:"liFields"}," ",t.Genre),l.a.createElement("div",{style:{display:"inline"},onClick:function(a){e.setState({currentMovie:t}),e.openEdit()}},l.a.createElement(j.a,{style:{float:"right"},icon:"edit"})),l.a.createElement("div",{style:{display:"inline"},onClick:function(a){e.setState({id:t.id}),e.openDelete()}}," ",l.a.createElement(j.a,{style:{float:"right",marginRight:"10px"},icon:"trash"})))})}},{key:"render",value:function(){var e,t,a,n,i,o=this,r={position:"fixed",zIndex:1040,top:0,bottom:0,left:0,right:0},s=Object(c.a)({},r,{zIndex:"auto",backgroundColor:"#000",opacity:.5}),d=function(){return{position:"absolute",width:400,top:"50%",left:"50%",transform:"translate(-".concat(50,"%, 0%)"),border:"1px solid #e5e5e5",backgroundColor:"white",boxShadow:"0 5px 15px rgba(0,0,0,.5)",padding:20}};return l.a.createElement("div",{className:"App"},l.a.createElement("div",{style:{marginBottom:"40px",marginTop:"20px"},onClick:function(e){e.preventDefault(),o.setState({showAddModal:!0})}},l.a.createElement(j.a,{icon:"plus-square"})," Add Movie"),l.a.createElement(w.a,{"aria-labelledby":"modal-label",style:r,backdropStyle:s,show:this.state.showAddModal,onHide:this.closeAdd},l.a.createElement("div",{style:d()},l.a.createElement("h4",{id:"modal-label"},"Movie Details:"),l.a.createElement("form",null,l.a.createElement("div",{className:"modalForm"},l.a.createElement("label",{className:"labelSpace"},"Title:"),l.a.createElement("input",{required:!0,type:"text",onBlur:function(e){o.setState({newMovie:Object(c.a)({},o.state.newMovie,{Title:e.target.value})})}})),l.a.createElement("div",{className:"fieldsSpace"},l.a.createElement("label",{className:"labelSpace"},"Year:"),l.a.createElement("input",{required:!0,type:"text",onBlur:function(e){o.setState({newMovie:Object(c.a)({},o.state.newMovie,{Year:e.target.value})})}})),l.a.createElement("div",{className:"fieldsSpace"},l.a.createElement("label",{className:"labelSpace"},"Runtime:"),l.a.createElement("input",{required:!0,type:"text",onBlur:function(e){o.setState({newMovie:Object(c.a)({},o.state.newMovie,{Runtime:e.target.value})})}})),l.a.createElement("div",{className:"fieldsSpace"},l.a.createElement("label",{className:"labelSpace"},"Director:"),l.a.createElement("input",{required:!0,type:"text",onBlur:function(e){o.setState({newMovie:Object(c.a)({},o.state.newMovie,{Director:e.target.value})})}})),l.a.createElement("div",null,l.a.createElement("label",{className:"labelSpace"},"Genre:"),l.a.createElement("input",{required:!0,type:"text",onBlur:function(e){o.setState({newMovie:Object(c.a)({},o.state.newMovie,{Genre:e.target.value})})}}),l.a.createElement("div",{className:"btnSpace"},l.a.createElement(S.a,{className:"labelSpace",onClick:function(e){e.preventDefault(),o.addNewMovie(o.state.newMovie)}},"Add Movie"),l.a.createElement(S.a,{onClick:function(e){o.closeAdd()}},"Cancel")))))),this.props.movies.length>0&&l.a.createElement(g.a,null,this.renderList()),l.a.createElement(w.a,{"aria-labelledby":"modal-label",style:r,backdropStyle:s,show:this.state.showEditModal,onHide:this.closeEdit},l.a.createElement("div",{style:d()},l.a.createElement("h4",{id:"modal-label"},"Movie details:"),l.a.createElement("form",null,l.a.createElement("div",{className:"modalForm"},l.a.createElement("label",{className:"labelSpace"},"Title:"),l.a.createElement("input",{type:"text",defaultValue:this.state.currentMovie.Title,onBlur:function(t){e=t.target.value}})),l.a.createElement("div",{className:"fieldsSpace"},l.a.createElement("label",{className:"labelSpace"},"Year:"),l.a.createElement("input",{type:"text",defaultValue:this.state.currentMovie.Year,onBlur:function(e){i=e.target.value}})),l.a.createElement("div",{className:"fieldsSpace"},l.a.createElement("label",{className:"labelSpace"},"Runtime:"),l.a.createElement("input",{type:"text",defaultValue:this.state.currentMovie.Runtime,onBlur:function(e){t=e.target.value}})),l.a.createElement("div",{className:"fieldsSpace"},l.a.createElement("label",{className:"labelSpace"},"Director:"),l.a.createElement("input",{type:"text",defaultValue:this.state.currentMovie.Director,onBlur:function(e){a=e.target.value}})),l.a.createElement("div",null,l.a.createElement("label",{className:"labelSpace"},"Genre:"),l.a.createElement("input",{type:"text",defaultValue:this.state.currentMovie.Genre,onBlur:function(e){n=e.target.value}}),l.a.createElement("div",{className:"btnSpace"},l.a.createElement(S.a,{className:"labelSpace",onClick:function(l){l.preventDefault(),o.editMovie(o.state.currentMovie.id,e,i,t,a,n),o.closeEdit()}},"Save"),l.a.createElement(S.a,{onClick:function(e){o.closeEdit()}},"Cancel")))))),l.a.createElement(w.a,{"aria-labelledby":"modal-label",style:r,backdropStyle:s,show:this.state.showDeleteModal,onHide:this.closeDelete},l.a.createElement("div",{style:d()},l.a.createElement("h4",{id:"modal-label"},"Are you sure you want to delete this movie?"),l.a.createElement("div",{className:"btnSpace"},l.a.createElement(S.a,{className:"labelSpace",onClick:function(e){e.preventDefault(),o.props.removeMovie(o.state.id),o.closeDelete()}},"Delete "),l.a.createElement(S.a,{onClick:function(e){e.preventDefault(),o.setState({showDeleteModal:!1})}},"Cancel")))))}}]),t}(n.Component);var C=Object(r.b)(function(e,t){return{movies:e.search.movies}},function(e){return{updateMovieList:Object(p.b)(h,e),updateCurrentMovie:Object(p.b)(b,e),updateMovie:Object(p.b)(f,e),removeMovie:Object(p.b)(E,e),addMovie:Object(p.b)(M,e)}})(O);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var A=a(73),B={movies:[]};var R=Object(p.c)({search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"updateMovieList":return{movies:t.payload.map(function(e){return{id:D()(),Title:e.Title,Year:e.Year,Director:e.Director,Genre:e.Genre,Runtime:e.Runtime,Poster:e.Poster||""}})};case"addMovie":return{movies:Object(A.a)(e.movies).concat([t.payload])};case"removeMovie":return{movies:e.movies.filter(function(e){return e.id!==t.payload})};case"updateMovie":return{movies:e.movies.map(function(e){return e.id===t.payload.id&&(e=t.payload),e})};default:return e}}}),T=a(71),G=a.n(T),Y=a(72);var F,q=(F={},Object(p.d)(R,F,Object(p.a)(Y.a,G()())));o.a.render(l.a.createElement(r.a,{className:"full-height",store:q},l.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},76:function(e,t,a){e.exports=a(154)},84:function(e,t,a){},86:function(e,t,a){},90:function(e,t,a){}},[[76,2,1]]]);
//# sourceMappingURL=main.ad1646c6.chunk.js.map